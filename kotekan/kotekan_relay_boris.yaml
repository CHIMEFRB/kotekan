---
type: config
system:
  mode: intensity_receiver
  log_level: 2

instrument_name: aro

#shared by power & network_stream
integration_length: 8192
num_freq: 1024
num_elements: 2
samples_per_data_set: 32768
buffer_depth: 10
num_links: 8
timesamples_per_packet: 2
#cpu_affinity: [8,9,10,11]
cpu_affinity: [4]

#vdif_stream:
#  kotekan_process: recvSingleDishVDIF
#  vdif_recv_ip: 10.72.0.2
#  vdif_recv_port: 5889
#  vdif_in_buf: vdif_input_buf
#  cpu_affinity: [10]

powerInput:
  kotekan_process: networkInputPowerStream
  port: 2003
  ip: 10.72.0.2
  power_out_buf: input_power_buf
  protocol: TCP

#power:
#  kotekan_process: computeDualpolPower
#  vdif_in_buf: vdif_input_buf
#  power_out_buf: output_power_buf
#  cpu_affinity: [11]

#integrator:
#  kotekan_process: integratePowerStream
#  power_in_buf: input_power_buf
#  power_out_buf: output_power_buf
#  integration: 1

network_stream0:
  integration_length: 8192
  kotekan_process: networkPowerStream
  power_in_buf: input_power_buf
  destination_port: 2050
  destination_ip: 127.0.0.1
  destination_protocol: TCP

network_stream1:
  integration_length: 8192
  kotekan_process: networkPowerStream
  power_in_buf: input_power_buf
  destination_port: 2051
  destination_ip: 127.0.0.1
  destination_protocol: TCP

network_stream2:
  integration_length: 8192
  kotekan_process: networkPowerStream
  power_in_buf: input_power_buf
  destination_port: 2052
  destination_ip: 127.0.0.1
  destination_protocol: TCP

network_stream3:
  integration_length: 8192
  kotekan_process: networkPowerStream
  power_in_buf: input_power_buf
  destination_port: 2053
  destination_ip: 127.0.0.1
  destination_protocol: TCP

network_stream4:
  integration_length: 8192
  kotekan_process: networkPowerStream
  power_in_buf: input_power_buf
  destination_port: 2054
  destination_ip: 127.0.0.1
  destination_protocol: TCP

network_stream5:
  integration_length: 8192
  kotekan_process: networkPowerStream
  power_in_buf: input_power_buf
  destination_port: 2055
  destination_ip: 127.0.0.1
  destination_protocol: TCP

network_stream6:
  integration_length: 8192
  kotekan_process: networkPowerStream
  power_in_buf: input_power_buf
  destination_port: 2056
  destination_ip: 127.0.0.1
  destination_protocol: TCP

network_stream7:
  integration_length: 8192
  kotekan_process: networkPowerStream
  power_in_buf: input_power_buf
  destination_port: 2057
  destination_ip: 127.0.0.1
  destination_protocol: TCP

network_stream8:
  integration_length: 8192
  kotekan_process: networkPowerStream
  power_in_buf: input_power_buf
  destination_port: 2058
  destination_ip: 127.0.0.1
  destination_protocol: TCP

network_stream9:
  integration_length: 8192
  kotekan_process: networkPowerStream
  power_in_buf: input_power_buf
  destination_port: 2059
  destination_ip: 127.0.0.1
  destination_protocol: TCP
